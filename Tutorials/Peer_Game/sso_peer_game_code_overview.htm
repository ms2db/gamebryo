<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>Peer Game Demo Code Overview</title>
<!--(Begin Meta)===================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="FSO" />
<meta name="Generator" content="Palimpsest by Emergent Game Technologies - http://emergent.net" />
<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)====================================================-->
    
<!--(Begin Links)===================================================-->
    
<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=====================================================-->

</head>

<!--(Begin Body)===================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2" type="text/javascript">
</script><script language="JavaScript1.2" type="text/javascript">
WriteNavLink(2);
</script>

<h1>Peer Game Demo Code Overview</h1>

<p>By default, files that are specific to the Peer Game demo install to the following
locations:</p>

<ul>
    <li>Source files: <span class=
    "NDLSystemFont"><em>%EMERGENT_PATH%</em>\Samples\OnlineTechDemos\PeerGame</span></li>

    <li>Entity behavior scripts: <span class=
    "NDLSystemFont"><em>%EMERGENT_PATH%</em>\Media\Samples\Online\PeerGame</span></li>

    <li>Configuration files: <span class=
    "NDLSystemFont"><em>%EMERGENT_PATH%</em>\Samples\OnlineTechDemos\PeerGame</span></li>
</ul>

<table class="NDLNoteContainer" width="100%">
    <tr align="left">
        <td class="NDLNoteContainerTD">
            <p class="NDLHeadingNoteContainer">Note</p>

            <div class="NDLNote">
                This document outlines <em>some</em> of the significant code sections of Peer Game.
                It is not intended to be an exhaustive overview of the source code. Instead, we
                focus primarily on the ways in which Peer Game differs from Base Game. For more
                information about the Base Game source and entity behavior script files,
                see <a href="../Base_Game/base_game_code_overview.htm">Base Game Demo Code
                Overview</a>.
            </div>
        </td>
    </tr>
</table>

<table>
    <thead>
        <tr>
            <th>File</th>

            <th>Description</th>
        </tr>
    </thead>

    <tbody>
        <tr>
            <td class="ColSpan" colspan="2"><b>Source files</b></td>
        </tr>

        <tr>
            <td>PeerGame.cpp</td>

            <td>
                <ul>
                    <li>Primary system service for PeerGame.</li>

                    <li>Instantiates required system services, registers them with the
                    ServiceManager.</li>

                    <li>Initializes logging.</li>

                    <li>Verifies pre-requisite system services are running in OnInit.</li>

                    <li>Handles connection accepted/closed messages from channel manager</li>
                </ul>
            </td>
        </tr>

        <tr>
            <td>GameLobbyState.cpp</td>

            <td>
                <ul>
                    <li>Determines who the host is</li>

                    <li>Creates a net lib</li>

                    <li>Creates or joins a channel manager</li>

                    <li>Tells the Loading state what block file to load</li>
                </ul>
            </td>
        </tr>

        <tr>
            <td class="ColSpan" colspan="2"><b>Entity behavior scripts</b></td>
        </tr>

        <tr>
            <td>EseProducerBasic.lua</td>

            <td>
                <ul>
                    <li>OnCreate behavior sets up the entity as a replication producer.</li>
                </ul>
            </td>
        </tr>

        <tr>
            <td>EseObserverBasic.lua</td>

            <td>
                <ul>
                    <li>OnCreate behavior sets up the entity as a replication consumer.</li>
                </ul>
            </td>
        </tr>

        <tr>
            <td>ChannelHelp.lua</td>

            <td>
                <ul>
                    <li>Helper script. Exports a function that computes a Category from an
                    enumerated value.</li>
                </ul>
            </td>
        </tr>

        <tr>
            <td>EsePeerAIJack.lua</td>

            <td>
                <ul>
                    <li>OnWaypointReached behavior extended to propagate animation changes to
                    connected peers when AIJacks change move state.</li>
                </ul>
            </td>
        </tr>

        <tr>
            <td>EsePeerAvatar.lua</td>

            <td>
                <ul>
                    <li>SetMovement behavior extended to propagate animation changes to connected
                    peers when avatars move.</li>
                </ul>
            </td>
        </tr>

        <tr>
            <td>EsePeerTriggeredAnimation.lua</td>

            <td>
                <ul>
                    <li>RemoteTriggeredAnimation is a behavior that runs on replica entities. It
                    catches messages sent from owned entities and updates animation states
                    accordingly.</li>

                    <li>TriggerAnimation is extended to send the RemoteTriggeredAnimation
                    event.</li>
                </ul>
            </td>
        </tr>
    </tbody>
</table>

<p class="NDLHeadingRelatedTopic">Related topics</p>

<ul>
    <li><a href="sso_peer_game_demo.htm">Peer Game Demo Overview</a></li>

    <li><a href="sso_peer_game_functional_overview.htm">Peer Game Functional Overview</a></li>

    <li><a href="sso_peer_game_usage.htm">Peer Game Usage and Controls</a></li>
</ul>

<!--kadov_tag{{<placeholder id="footer">}}-->

</body>

</html>
