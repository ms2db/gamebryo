<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>NiCgShaderLib</title>
<!--(Begin Meta)===================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Pre-Expedition-RH" />
<meta name="Generator" content="Palimpsest by Emergent Game Technologies - http://emergent.net" />
<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)====================================================-->
    
<!--(Begin Links)===================================================-->
    
<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=====================================================-->

</head>

<!--(Begin Body)===================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2"
type="text/javascript">
</script><script language="JavaScript1.2" type="text/javascript">
WriteNavLink(2);
</script>

<h1>NiCgShaderLib</h1>

<p>In order to make use of the nVidia's Cg shader language
without requiring the Cg libraries as a part of Gamebryo, a
supplemental library has been provided to create and handle Cg
shaders. The <span class="NDLSystemFont">NiCgShaderLib</span>
library should be considered a utility library, and not a part of
the general Gamebryo API. As such, this documentation relates
only to how an application can make use of the library.</p>

<h2>Compiling NiCgShaderLib</h2>

<p>The <span class="NDLSystemFont">NiCgShaderLib</span> project
file is included with the <span class=
"NDLSystemFont">D3DShaderLibs</span> project, but it does not
build by default. Before it can be compiled, nVidia's Cg Toolkit
1.5 must be downloaded and installed. The latest Cg Toolkit
(version 1.5 as of this release) can be found at <a href=
"http://developer.nvidia.com/object/cg_toolkit.html" target=
"_blank">http://developer.nvidia.com/object/cg_toolkit.html</a>.</p>

<p>Gamebryo was tested using nVidia's Cg Toolkit 1.5, and using
other versions of the Cg Toolkit may exhibit problems.</p>

<h2>Linking with NiCgShaderLib</h2>

<p>Applications that want link with the static <span class=
"NDLSystemFont">NiCgShaderLib.lib</span> must also link with
nVidia's <span class="NDLSystemFont">cg.lib</span>, as well as
either  attempting to load any Cg shader programs. Once this call
is made, the application will automatically gain the ability to
compile and use Cg shader programs.</p>

<p>Applications that link with the dynamic <span class=
"NDLSystemFont">NiCgShaderLib32VC80S.dll</span> (or <span class=
"NDLSystemFont">NiCgShaderLib32VC90S.dll</span>) do not need to
link with any of nVidia's libraries, since the appropriate
libraries are already linked to the Gamebryo library.</p>

<p>Once the library has been linked with the application it
should run with no further work on the part of the application,
as long as the appropriate nVidia DLL's are found. If they are
not found, the application will halt, as it would if any DLL were
missing. When the application has started, any <span class=
"NDLSystemFont"><a href=
"../../Reference/NiMain/NiShaderConstantMap.htm">NiShaderConstantMapEntry</a></span>
objects and <span class="NDLSystemFont"><a href=
"../../Reference/NiMain/NiGlobalConstantEntry.htm">NiGlobalConstantEntry</a></span>
objects that have been registered with a valid variable name will
be automatically pass their data into the corresponding Cg
variables. This includes any constant entries that have been
created by an NSF/NSB shader.</p>

<h2>Gamebryo Tools and NiCgShaderLib</h2>

<p>All Gamebryo tools that include shader support, including
AssetViewer, AnimationTool, and the exporter plugins, ship with
code that attempts to explicitly link <span class=
"NDLSystemFont">NiCgShaderLib32VC80S.dll</span> (or <span class=
"NDLSystemFont">NiCgShaderLib32VC90S.dll</span>). If that library
is not found, the application will be able to continue, but
without Cg support.</p>

<!--kadov_tag{{<placeholder id="footer">}}-->

</body>

</html>
