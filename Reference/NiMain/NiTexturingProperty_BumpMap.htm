<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>NiTexturingProperty::BumpMap</title>
<!--(Begin Meta)===================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Pre-Expedition-RH" />
<meta name="Generator" content="Palimpsest by Emergent Game Technologies - http://emergent.net" />
<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)====================================================-->
    
<!--(Begin Links)===================================================-->
    
<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=====================================================-->

</head>

<!--(Begin Body)===================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2"
type="text/javascript">
</script><script language="JavaScript1.2" type="text/javascript">
WriteNavLink(2);
</script>

<p class="NDLRefHeadClassTitle">NiTexturingProperty::BumpMap</p>

<p class="NDLRefParentage">: public <a href=
"NiTexturingProperty_Map.htm">NiTexturingProperty::Map</a></p>

<p class="NDLRefHeaderFile">&lt;NiTexturingProperty.h&gt;</p>

<p class="NDLRefHead1">Description</p>

<p><span class=
"NDLSystemFont">NiTexturingProperty::BumpMap</span> is a nested
class of <span class="NDLSystemFont"><a href=
"NiTexturingProperty.htm">NiTexturingProperty</a></span> and a
subclass of the nested class <span class="NDLSystemFont"><a href=
"NiTexturingProperty_Map.htm">NiTexturingProperty::Map</a></span>
and adds new data members that are specific to Bump-maps. A
discussion of the effect of these parameters on Bump-mapping may
be found in the Texturing document. A basic discussion of each
parameter is included below in the Notes section.</p>

<p class="NDLRefHead1">Constructors</p>

<p class="NDLRefMemberFunction">BumpMap()</p>

<p class="NDLRefMemberDescription">Default constructor.
Constructs a <span class="NDLSystemFont">BumpMap</span> as a
default <span class="NDLSystemFont">Map</span> object with the
following settings:</p>

<!--(Table)=========================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Variable</th>

                <th>Value</th>
            </tr>
        </thead>

        <tbody>
            <tr>
                <td><span class=
                "NDLSystemFont">fLumaOffset</span></td>

                <td><span class="NDLSystemFont">0.0f</span></td>
            </tr>

            <tr>
                <td><span class=
                "NDLSystemFont">fLumaScale</span></td>

                <td><span class="NDLSystemFont">1.0f</span></td>
            </tr>

            <tr>
                <td><span class=
                "NDLSystemFont">fBumpMat00</span></td>

                <td><span class="NDLSystemFont">0.5f</span></td>
            </tr>

            <tr>
                <td><span class=
                "NDLSystemFont">fBumpMat01</span></td>

                <td><span class="NDLSystemFont">0.0f</span></td>
            </tr>

            <tr>
                <td><span class=
                "NDLSystemFont">fBumpMap10</span></td>

                <td><span class="NDLSystemFont">0.0f</span></td>
            </tr>

            <tr>
                <td><span class=
                "NDLSystemFont">fBumpMap11</span></td>

                <td><span class="NDLSystemFont">0.5f</span></td>
            </tr>
        </tbody>
    </table>
</div>

<p class="NDLRefMemberFunction">BumpMap(<a href=
"NiTexture.htm">NiTexture</a>* pkTexture, unsigned int uiIndex,
<a href=
"NiTexturingProperty.htm#Texture_Clamping_Modes">NiTexturingProperty::ClampMode</a> eClampMode = WRAP_S_WRAP_T,
<a href=
"NiTexturingProperty.htm#Texture_Filter_Modes">NiTexturingProperty::FilterMode</a> eFilterMode = FILTER_BILERP,
float fLumaScale = 1.0f, float fLumaOffset = 0.0f,
float fBumpMat00 = 0.5f, float fBumpMat01 = 0.0f,
float fBumpMat10 = 0.0f, float fBumpMat11 = 0.5f)</p>

<p class="NDLRefMemberDescription">Member-wise constructor.
Allows each member (including base class members) to be set
during construction</p>

<p class="NDLRefHead1">Operators</p>

<p class="NDLRefMemberFunction">bool operator==(const
BumpMap&amp; kObj) const</p>

<p class="NDLRefMemberFunction">bool operator!=(const
BumpMap&amp; kObj) const</p>

<p class="NDLRefMemberDescription">Compare two Bump <span class=
"NDLSystemFont">Map</span>s.</p>

<p class="NDLRefHead1">Supported Member Functions</p>

<p class="NDLRefMemberFunction">float GetLumaScale() const</p>

<p class="NDLRefMemberFunction">void SetLumaScale(float fVal)</p>

<p class="NDLRefMemberFunction">float GetLumaOffset() const</p>

<p class="NDLRefMemberFunction">void SetLumaOffset(float
fVal)</p>

<p class="NDLRefMemberDescription">Retrieve and set the bump map
luminance scale and offset coefficients for the <span class=
"NDLSystemFont">BumpMap</span>.</p>

<p class="NDLRefMemberFunction">float GetBumpMat00() const</p>

<p class="NDLRefMemberFunction">void SetBumpMat00(float fVal)</p>

<p class="NDLRefMemberFunction">float GetBumpMat01() const</p>

<p class="NDLRefMemberFunction">void SetBumpMat01(float fVal)</p>

<p class="NDLRefMemberFunction">float GetBumpMat10() const</p>

<p class="NDLRefMemberFunction">void SetBumpMat10(float fVal)</p>

<p class="NDLRefMemberFunction">float GetBumpMat11() const</p>

<p class="NDLRefMemberFunction">void SetBumpMat11(float fVal)</p>

<p class="NDLRefMemberDescription">Retrieve and set the bump map
displacement matrix entries for the <span class=
"NDLSystemFont">BumpMap</span>.</p>

<p class="NDLRefHead1">Notes</p>

<p class="NDLRefHead2">Bump Map Matrix Entries</p>

<p>The 2x2 matrix that is defined by the four bump map matrix
entries defines the rotation and scale of the bump map's
<span class="NDLSystemFont">dU</span> and <span class=
"NDLSystemFont">dV</span> channels w.r.t. the environment map
coordinates. The incoming bump map <span class=
"NDLSystemFont">dU</span> and <span class=
"NDLSystemFont">dV</span> as sampled from the bump are multiplied
as a vector times the 2x2 matrix, and then applied to the U and V
values computed for the environment map. Most frequently, the 00
and 11 matrices are set to the same positive value between 0 and
1, depending on the roughness of the surface. The 01 and 10
elements are left at 0.0 in these cases. Other values may be used
to rotate the basis of the bump mapping.</p>

<p class="NDLRefHead2">Bump Map Luminance Coefficients</p>

<p>Because Bump-mapping cannot be used with a gloss map, most
bump-mapping hardware supports adjusting the luminance of the
environment map (also known as the glossiness). The luminance
coefficients are normally stored in the luminance channel of the
bump map. The luminance scale and offset may be used to modify
these values on the fly. The overall effect of bump mapping is
as follows:</p>

<p>Color = BaseTexMapResult + BumpedEnvMap * (LumaOffset +
LumaScale * BumpMapLuma)</p>

<p>With the defaults of LumaScale = 1.0, LumaOffset = 0.0, this
formula becomes:</p>

<p>Color = BaseTexMapResult + BumpedEnvMap * BumpMapLuma</p>

<!--kadov_tag{{<placeholder id="footer">}}-->

</body>

</html>
