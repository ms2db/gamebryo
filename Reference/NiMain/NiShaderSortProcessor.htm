<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>NiShaderSortProcessor</title>
<!--(Begin Meta)===================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Expedition" />
<meta name="Generator" content="Palimpsest by Emergent Game Technologies - http://emergent.net" />
<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)====================================================-->
    
<!--(Begin Links)===================================================-->
    
<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=====================================================-->

</head>

<!--(Begin Body)===================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2"
type="text/javascript">
</script><script language="JavaScript1.2" type="text/javascript">
WriteNavLink(2);
</script>

<h1>NiShaderSortProcessor</h1>

<p class="NDLRefParentage">: public <a href=
"NiAlphaSortProcessor.htm"><span>NiAlphaSortProcessor</span></a></p>

<p class="NDLRefHeaderFile">&lt;NiShaderSortProcessor.h&gt;</p>

<p class="NDLRefHead1">Description</p>

<p>The <span class="NDLSystemFont">NiShaderSortProcessor</span>
class is a type of <span class="NDLSystemFont"><a href=
"NiRenderListProcessor.htm">NiRenderListProcessor</a></span> that
first sorts opaque objects by shader and then by dynamic effect
state, allowing redundant changes to be reduced while rendering. 
The opaque objects are then rendered immediately, while
transparent objects are instead sorted in the same manner as
<span class="NDLSystemFont"><a href=
"NiAlphaSortProcessor.htm">NiAlphaSortProcessor</a></span>
(back-to-front order) and returned for later rendering.</p>

<p class="NDLRefHead1">Constructors</p>

<p class="NDLRefMemberFunction">NiShaderSortProcessor()</p>

<p class="NDLRefMemberDescription">Creates a new <span class=
"NDLSystemFont">NiShaderSortProcessor</span> object.</p>

<p class="NDLRefHead1">Supported Member Functions</p>

<p class="NDLRefMemberFunction">virtual void
PreRenderProcessList(const <a href=
"NiVisibleArray.htm">NiVisibleArray</a>* pkInput, <a href=
"NiVisibleArray.htm">NiVisibleArray</a>&amp; kOutput, void*
pvExtraData);</p>

<p class="NDLRefMemberDescription">This method splits the
<span class="NDLSystemFont">pkInput</span> list into transparent
and non-transparent objects. Non-transparent objects are sorted
first by shader and then by dynamic effect state, and are
rendered immediately (one <span class="NDLSystemFont"><a href=
"NiShader.htm">RenderMeshes</a></span> call for each shader).<br>
Transparent objects are sorted by depth and returned in
<span class="NDLSystemFont">kOutput</span>, but are not rendered
by this method.</p>

<p class="NDLRefMemberFunction">virtual void ReleaseCaches();</p>

<p class="NDLRefMemberDescription">Frees any transient memory
such as cached information used by this class.</p>

<p class="NDLRefHead1">Rendering Order</p>

<p>Since the <span class=
"NDLSystemFont">NiShaderSortProcessor</span> groups opaque
objects by their <span class="NDLSystemFont"><a href=
"NiShader.htm">NiShader</a></span> and renders them in batches,
opaque objects will no longer be rendered in scene graph order.
Depending on how an application's scene is setup this may cause
distinct visual changes. If a scene contains a set of objects
that must be rendered in scene graph order, then the objects
should be placed under an <span class="NDLSystemFont"><a href=
"NiShader.htm">NiSortAdjustNode</a></span>. All object under a
<span class="NDLSystemFont">NiSortAdjustNode</span> are
guaranteed to be rendered in scene graph order.</p>

<!--kadov_tag{{<placeholder id="footer">}}-->

</body>

</html>
