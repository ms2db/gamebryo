<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>egmAnimation::KFMFactory</title>
<!--(Begin Meta)================================================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Expedition" />
<meta name="Generator" content="DoxyConvert by Emergent Game Technologies - http://emergent.net" />

<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)==================================================================================-->
    
<!--(Begin Links)===============================================================================-->

<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=================================================================================-->

</head>
  
<!--(Body)======================================================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2" type="text/javascript"></script>
<script language="JavaScript1.2" type="text/javascript">WriteNavLink(2);</script>

<p class="NDLRefHeadClassTitle">egmAnimation::KFMFactory</p>
<p class="NDLRefParentage">: public <span class="NDLSystemFont"><a href="../efd/efd__BaseAssetFactory.htm">efd::BaseAssetFactory</a></span></p>


<p class="NDLRefHeaderFile">&lt;KFMFactory.h&gt;</p>

<p class="NDLRefHead1" style="text-align: center; ">
<div class="FigureContainer">
  <img src="./images/classegm_animation_1_1_k_f_m_factory.gif" alt="Inheritance graph for egmAnimation::KFMFactory"/>
  <p class="FigureCaption">Inheritance graph for egmAnimation::KFMFactory</p>
</div>
</p>

<p class="NDLRefHead1">Description</p>
<p class="NDLNormal">An IAssetFactory that takes a <span class="NDLSystemFont"><a href="egmAnimation__KFMFactoryRequest.htm">KFMFactoryRequest</a></span> and attempts to load the flat model from disk and create an <span class="NDLSystemFont"><a href="../NiAnimation/NiActorManager.htm">NiActorManager</a></span> instance. </p>
<p class="NDLNormal">The result of this request is returned using an <span class="NDLSystemFont"><a href="egmAnimation__KFMFactoryResponse.htm">KFMFactoryResponse</a></span>. This actor manager contains the loaded KFM and KF files, but the NIF root will not be set. It is the caller's responsibility to load this asset separately. (This will likely be done via the SceneGraphService.)</p>
<p class="NDLNormal">Callers to <span class="NDLSystemFont"><a href="egmAnimation__KFMFactory.htm#classegm_animation_1_1_k_f_m_factory_1a49a4d12c87505a4dbe740ac67a3f4ac0">KFMFactory::LoadAsset</a></span> are responsible for looking up and setting the asset path to the underlying flat model file in the <span class="NDLSystemFont"><a href="egmAnimation__KFMFactoryRequest.htm">KFMFactoryRequest</a></span>.</p>
<p class="NDLNormal">The <span class="NDLSystemFont">KFMFactory</span> is not typically called directly. Instead, it responds to a request from the AssetFactoryManager to load a particular asset. The AssetFactoryManager is responsible for locating the fully qualified path using the provided URN and setting this value in the <span class="NDLSystemFont"><a href="egmAnimation__KFMFactoryRequest.htm">KFMFactoryRequest</a></span> object. These requests are usually made by the <span class="NDLSystemFont"><a href="egmAnimation__AnimationService.htm">AnimationService</a></span> directly.</p>
<p class="NDLNormal">The caller is responsible for allocating and deallocating the <span class="NDLSystemFont"><a href="egmAnimation__KFMFactoryRequest.htm">KFMFactoryRequest</a></span>.</p>
<p class="NDLNormal">The <span class="NDLSystemFont">KFMFactory</span> allocates the response, it is the callers responsibility to deallocate it. </p>

<a name="public_methods"></a>
<p class="NDLRefHead1">Public Methods</p>


<a name="classegm_animation_1_1_k_f_m_factory_1a49a4d12c87505a4dbe740ac67a3f4ac0"></a>
<p class="NDLRefMemberFunction">virtual IAssetFactory::LoadStatus  LoadAsset(<br/><span class="NDLSystemFont"><a href="../efd/efd__AssetFactoryManager.htm">efd::AssetFactoryManager</a></span>* pFactoryManager, <br/>const <span class="NDLSystemFont"><a href="../efd/efd__AssetLoadRequest.htm">efd::AssetLoadRequest</a></span>* pRequest, <br/><span class="NDLSystemFont"><a href="../efd/efd__SmartPointer.htm">efd::AssetLoadResponsePtr</a></span>& ppResponse)</p>
<p class="NDLRefMemberDescription">Attempt to load an actor. </p>
<p class="NDLRefMemberDetailedDescription">
<p class="NDLRefMemberDetailedDescription"><span class="NDLSystemFont"><a href="../efd/efd__IAssetFactory.htm#classefd_1_1_i_asset_factory_1a0724c480863f94648ecba9d81c98b262">efd::IAssetFactory::LoadStatus</a></span> for further details.</p></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">pFactoryManager</span></td>
    <td>The AssetFactoryManager instance invoking this function. </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">pRequest</span></td>
    <td>The <span class="NDLSystemFont"><a href="egmAnimation__KFMFactoryRequest.htm">KFMFactoryRequest</a></span>. Other types will be ignored. </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">ppResponse</span></td>
    <td><span class="NDLSystemFont"><a href="egmAnimation__KFMFactoryResponse.htm">KFMFactoryResponse</a></span> The response message allocated by this factory. </td>
</tr>
<tr>
    <td><em>Return Value</em></td>
    <td>The status of this load request. </td>
</tr>

        </tbody>
    </table>
</div>



<a name="classegm_animation_1_1_k_f_m_factory_1ab64a6889df95a80cf94158c26f2a8f50"></a>
<p class="NDLRefMemberFunction">virtual IAssetFactory::ThreadSafetyDescription  GetThreadSafety() const</p>
<p class="NDLRefMemberDescription">Thread status description. </p>
<p class="NDLRefMemberDetailedDescription">This loader is thread safe for foreground or background use. </p>

<a name="classegm_animation_1_1_k_f_m_factory_1a1c967ac0598187ae7bc9849d84347800"></a>
<p class="NDLRefMemberFunction">virtual void  Shutdown()</p>
<p class="NDLRefMemberDescription">Shutdown function cleans up message subscriptions and smart pointers. </p>
<a name="constructors_and_destructors"></a>
<p class="NDLRefHead1">Constructors and Destructors</p>


<a name="classegm_animation_1_1_k_f_m_factory_1a64c5fac081869124e7d375ff14029a08"></a>
<p class="NDLRefMemberFunction">KFMFactory(<br/><span class="NDLSystemFont"><a href="../efd/efd__AssetFactoryManager.htm">efd::AssetFactoryManager</a></span>* pFactoryManager, <br/><span class="NDLSystemFont"><a href="../efd/efd__MessageService.htm">efd::MessageService</a></span>* pMessageService)</p>
<p class="NDLRefMemberDescription">Construct a new <span class="NDLSystemFont">KFMFactory</span>. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">pFactoryManager</span></td>
    <td>The <span class="NDLSystemFont"><a href="../efd/efd__AssetFactoryManager.htm">efd::AssetFactoryManager</a></span> responsible for this factory. </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">pMessageService</span></td>
    <td>Message service used to subscribe for foreground locate requests. </td>
</tr>

        </tbody>
    </table>
</div>



<a name="classegm_animation_1_1_k_f_m_factory_1a80d80163c5523f38fd5fd8f00880da7e"></a>
<p class="NDLRefMemberFunction">virtual ~KFMFactory()</p>
<p class="NDLRefMemberDescription">Clean up any open resources. </p>
 
<!--kadov_tag{{<placeholder id="footer">}}-->

</body>

</html>
