<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>efd::AssetLocatorService</title>
<!--(Begin Meta)================================================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Expedition" />
<meta name="Generator" content="DoxyConvert by Emergent Game Technologies - http://emergent.net" />

<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)==================================================================================-->
    
<!--(Begin Links)===============================================================================-->

<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=================================================================================-->

</head>
  
<!--(Body)======================================================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2" type="text/javascript"></script>
<script language="JavaScript1.2" type="text/javascript">WriteNavLink(2);</script>

<p class="NDLRefHeadClassTitle">efd::AssetLocatorService</p>
<p class="NDLRefParentage">: public <span class="NDLSystemFont"><a href="efd__IAssetLocatorService.htm">efd::IAssetLocatorService</a></span></p>


<p class="NDLRefHeaderFile">&lt;AssetLocatorService.h&gt;</p>

<p class="NDLRefHead1" style="text-align: center; ">
<div class="FigureContainer">
  <img src="./images/classefd_1_1_asset_locator_service.gif" alt="Inheritance graph for efd::AssetLocatorService"/>
  <p class="FigureCaption">Inheritance graph for efd::AssetLocatorService</p>
</div>
</p>

<p class="NDLRefHead1">Description</p>
<p class="NDLNormal">The <span class="NDLSystemFont">AssetLocatorService</span> is a system service that is used by any application which integrates with the Emergent asset management system. </p>
<p class="NDLNormal">At run-time, this service is used to translate logical asset names into physical asset locations for loading.</p>
<p class="NDLNormal">The asset management system allows asset locations to be queried using a logical "Asset URI" name that may include either a GUID or a <span class="NDLSystemFont"><a href="efd__set.htm">set</a></span> of labels that specify which asset is needed. External asset management tools are used by the developer to manage asset labeling, and this data is accessible by the run-time via this system service. </p>

<a name="public_types"></a>
<p class="NDLRefHead1">Public Types</p>


<a name="classefd_1_1_asset_locator_service_1ac8364f48e0478a756bf4fe6c01f2f4ba"></a>
<p class="NDLRefMemberFunction">typedef <span class="NDLSystemFont"><a href="efd__SmartPointer.htm">efd::SmartPointer</a></span>&lt;<span class="NDLSystemFont"><a href="efd__AssetLocatorService__AssetLocationMap.htm">AssetLocationMap</a></span>&gt;  AssetLocationMapPtr</p>
<p class="NDLRefMemberDescription">A <span class="NDLSystemFont"><a href="efd__SmartPointer.htm">SmartPointer</a></span> for the <span class="NDLSystemFont"><a href="efd__AssetLocatorService__AssetLocationMap.htm">AssetLocatorService::AssetLocationMap</a></span> class. </p>
<a name="client_api_functions_-_connection_related"></a>
<p class="NDLRefHead1">Client API functions - connection related</p>


<a name="classefd_1_1_asset_locator_service_1a6a01fc4fbc9b42151dacd1422908e2b9"></a>
<p class="NDLRefMemberFunction">static <span class="NDLSystemFont"><a href="../Namespaces/efd.htm#namespaceefd_1a2ed07576a2c351e88e18847f247b5705">efd::UInt16</a></span>  m_responseID</p>
<p class="NDLRefMemberDescription">The next request id we are going to give out. </p>

<a name="classefd_1_1_asset_locator_service_1a3791a9886347983d15f4c6b0c9774189"></a>
<p class="NDLRefMemberFunction">void  ConnectionEstablished(<span class="NDLSystemFont">efd::Bool</span> isConnected)</p>
<p class="NDLRefMemberDescription">Set the current connection state. </p>
<p class="NDLRefMemberDetailedDescription">'True' will allow remote asset lookups. 'False' will ensure only local lookups are performed. </p>

<a name="classefd_1_1_asset_locator_service_1adc7a56e1b8ecbb783e2e693319239ad9"></a>
<p class="NDLRefMemberFunction">virtual <span class="NDLSystemFont">bool</span>  IsConnected()</p>
<p class="NDLRefMemberDescription">Return current connection state. True is connected to a remote Asset Server. </p>

<a name="classefd_1_1_asset_locator_service_1a10bc953c046dcf7b2c7f157a3db095eb"></a>
<p class="NDLRefMemberFunction">virtual <span class="NDLSystemFont">bool</span>  IsReady()</p>
<p class="NDLRefMemberDescription">Returns true if the <span class="NDLSystemFont">AssetLocatorService</span> is ready to respond to AssetLocate queries. </p>

<a name="classefd_1_1_asset_locator_service_1a6250b7aa342df31e5eb719b997716647"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">efd::Bool</span>  AssetWebOpen(const <span class="NDLSystemFont"><a href="efd__utf8string.htm">efd::utf8string</a></span>& web_root)</p>
<p class="NDLRefMemberDescription">Open the specified asset web location. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">web_root</span></td>
    <td>The path of the asset-web to use for local asset lookups. This can be a relative path or a platform-specific absolute path. </td>
</tr>

        </tbody>
    </table>
</div>



<a name="classefd_1_1_asset_locator_service_1ae97245f569439d5cc4cbf4beaf5dd78a"></a>
<p class="NDLRefMemberFunction">void  GetAssetWebAuthorId(<span class="NDLSystemFont"><a href="efd__utf8string.htm">efd::utf8string</a></span>& guid)</p>
<p class="NDLRefMemberDescription">Retrieve the asset web Author Id GUID value. </p>
<a name="public_static_methods"></a>
<p class="NDLRefHead1">Public Static Methods</p>


<a name="classefd_1_1_asset_locator_service_1af292ce129ed79ce60686b591a1cb2d4e"></a>
<p class="NDLRefMemberFunction">static <span class="NDLSystemFont"><a href="efd__SmartPointer.htm">AssetLocationMapPtr</a></span>  AssetLocationsFromResponseMsg(const <span class="NDLSystemFont"><a href="efd__IMessage.htm">efd::IMessage</a></span>* pMessage)</p>
<p class="NDLRefMemberDescription">Break apart an <span class="NDLSystemFont"><a href="efd__AssetLocatorResponse.htm">AssetLocatorResponse</a></span> to gain easy access to the results. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">pMessage</span></td>
    <td>Response message that is sent after a call to <span class="NDLSystemFont"><a href="efd__AssetLocatorService.htm#classefd_1_1_asset_locator_service_1a34ddd58830b5fdea401f0dd13bc142be">AssetLocate()</a></span></td>
</tr>
<tr>
    <td><em>Return Value</em></td>
    <td><span class="NDLSystemFont"><a href="efd__AssetLocatorService__AssetLocationMap.htm">AssetLocationMap</a></span> pointer </td>
</tr>

        </tbody>
    </table>
</div>


<a name="public_methods"></a>
<p class="NDLRefHead1">Public Methods</p>


<a name="classefd_1_1_asset_locator_service_1a290c19b47fc1159007ca87e51460c7ba"></a>
<p class="NDLRefMemberFunction">AssetLocatorService(<br/><span class="NDLSystemFont"><a href="efd__ServiceManager.htm">ServiceManager</a></span>* pServiceManager, <br/>const <span class="NDLSystemFont"><a href="efd__utf8string.htm">efd::utf8string</a></span>& GlobalTagSpace = efd::utf8string::NullString())</p>
<p class="NDLRefMemberDescription">Constructor. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">pServiceManager</span></td>
    <td>A pointer to the process <span class="NDLSystemFont"><a href="efd__ServiceManager.htm">ServiceManager</a></span> instance </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">GlobalTagSpace</span></td>
    <td>A <span class="NDLSystemFont"><a href="efd__set.htm">set</a></span> of tags that are automatically appended to every locate request. This limits the scope of the assets seen by the application to only those that include the specified tag(s). Format is "urn:tag1:tag2:etc." </td>
</tr>

        </tbody>
    </table>
</div>


<a name="client_api_functions_-_query_related"></a>
<p class="NDLRefHead1">Client API functions - query related</p>


<a name="classefd_1_1_asset_locator_service_1a34ddd58830b5fdea401f0dd13bc142be"></a>
<p class="NDLRefMemberFunction">virtual <span class="NDLSystemFont">efd::Bool</span>  AssetLocate(<br/>const <span class="NDLSystemFont"><a href="efd__utf8string.htm">efd::utf8string</a></span>& uri, <br/><span class="NDLSystemFont"><a href="efd__Category.htm">efd::Category</a></span> callback, <br/><span class="NDLSystemFont"><a href="efd__IAssetLocatorService.htm#classefd_1_1_i_asset_locator_service_1a24ed5044022024e60991c2b41a0cc21f">AssetLookupScope</a></span> scope = ALS_LOCAL_OR_REMOTE)</p>
<p class="NDLRefMemberDescription">Lookup the physical location of an asset based on logical Asset URI value. </p>
<p class="NDLRefMemberDetailedDescription">This is the main interface to the service functionality used by the client. A logical asset URI is provided, and the location(s) of the corresponding asset(s) is returned in the asynchronous response. The response is sent as a message of type <span class="NDLSystemFont"><a href="efd__AssetLocatorResponse.htm">AssetLocatorResponse</a></span>. In the event that there are no assets found matching the URI, then a response message with zero results is sent.</p>
<p class="NDLRefMemberDetailedDescription">Examples:</p>
<ul>
<li>Asset URI Returns</li>
<li>urn:emergent-flat-model All of the flat models known to asset manager</li>
<li>urn:emergent-world:Simple All block files named 'Simple.xblock'</li>
<li>urn:gamebryo-scenegraph:Bob The NIF file Bob.nif</li>
<li>urn:uuid:45fd58ab-345a-... The asset with corresponding asset Id GUID value</li></ul>
<p class="NDLRefMemberDetailedDescription"></p>
<p class="NDLRefMemberDetailedDescription"><span class="NDLSystemFont"><a href="../Namespaces/efd.htm#namespaceefd_1a6b252f6138e3fcf02fdbedaa50faa2c2">GenerateAssetResponseCategory</a></span></p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">uri</span></td>
    <td>An asset URI value using either tag names or a GUID value. All of the assets that match will be returned. </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">callback</span></td>
    <td><span class="NDLSystemFont"><a href="efd__Category.htm">Category</a></span> that the response should be received on. </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">scope</span></td>
    <td>Controls whether the lookup is allowed to be handled by a remote Asset Server. </td>
</tr>

        </tbody>
    </table>
</div>



<a name="classefd_1_1_asset_locator_service_1aafedb2fd7ac71c66d6f75c0d79199bf1"></a>
<p class="NDLRefMemberFunction">virtual <span class="NDLSystemFont">bool</span>  AssetBrowseInfo(<br/>const <span class="NDLSystemFont"><a href="efd__utf8string.htm">efd::utf8string</a></span>& uri, <br/>const <span class="NDLSystemFont"><a href="efd__utf8string.htm">efd::utf8string</a></span>& filePathHint = efd::utf8string::NullString())</p>
<p class="NDLRefMemberDescription">Lookup the physical location of an asset and return all asset browsing related information. </p>
<p class="NDLRefMemberDetailedDescription">This API is used by clients that want to present browsing information, like a GUI that enables a user to search through the asset-web. It returns the asset location information exactly like the <span class="NDLSystemFont"><a href="efd__AssetLocatorService.htm#classefd_1_1_asset_locator_service_1a34ddd58830b5fdea401f0dd13bc142be">AssetLocate()</a></span> API, and also returns information about additional tags that can be used to refine the search.</p>
<p class="NDLRefMemberDetailedDescription">This API is not intended for usage in a game. It is provided for Tools that interface to the asset management system.</p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">uri</span></td>
    <td>An asset URI value using either tag names(preferred!) or a GUID value. All of the assets that match will be returned. </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">filePathHint</span></td>
    <td>Full pathname of the file.</td>
</tr>
<tr>
    <td><em>Return Value</em></td>
    <td>true if it succeeds, false if it fails. </td>
</tr>

        </tbody>
    </table>
</div>



<a name="classefd_1_1_asset_locator_service_1a23b4e1776894c025719e8a67df5b7066"></a>
<p class="NDLRefMemberFunction">virtual <span class="NDLSystemFont">bool</span>  AssetTagsInfo(<span class="NDLSystemFont"><a href="efd__IAssetLocatorService.htm#classefd_1_1_i_asset_locator_service_1ad12b3c96e098ca988b7bce2ac1b120e6">AssetTagCategory</a></span> category)</p>
<p class="NDLRefMemberDescription">Retrieve the tag types and values that are known by the asset-web. </p>
<p class="NDLRefMemberDetailedDescription">This API is used by Tools to get the <span class="NDLSystemFont"><a href="efd__list.htm">list</a></span> of tags that are in use in the asset metadata. There are 3 categories of tags: labels, classifications, and standard tags. Each of the 3 sets may be retrieved individually.</p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">category</span></td>
    <td>An enum value indicating which category of tags is desired.</td>
</tr>
<tr>
    <td><em>Return Value</em></td>
    <td>true if it succeeds, false if it fails. </td>
</tr>

        </tbody>
    </table>
</div>


 
<!--kadov_tag{{<placeholder id="footer">}}-->

</body>

</html>
