<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>Updating NiInput</title>
<!--(Begin Meta)===================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Pre-Expedition-RH" />
<meta name="Generator" content="Palimpsest by Emergent Game Technologies - http://emergent.net" />
<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)====================================================-->
    
<!--(Begin Links)===================================================-->
    
<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=====================================================-->

</head>

<!--(Begin Body)===================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2" type="text/javascript"></script> <script language="JavaScript1.2" type="text/javascript">WriteNavLink(2);</script>

<h1>Updating NiInput</h1>

<p>The <span class="NDLSystemFont">NiInputSystem</span> needs 
 to be updated once a frame. This is true regardless of the mode the system 
 is operating in. How you update the system depends on the mode you are 
 operating in, however. The following code snippet demonstrates how you 
 can handle both modes in a single function:</p>

<pre>
// NOTE: This code assumes there is a valid NiInputSystem
// instance held in m_spInputSystem.
//
// If there are action maps defined, then update with action maps
// if not, then just update all of the devices
if (m_spInputSystem-&gt;GetMode() == NiInputSystem::MAPPED)
{
    if (m_spInputSystem-&gt;UpdateActionMap() == NIIERR_DEVICELOST)
        m_spInputSystem-&gt;HandleDeviceChanges();
}
else
{
    if (m_spInputSystem-&gt;UpdateAllDevices() == NIIERR_DEVICELOST)
        m_spInputSystem-&gt;HandleDeviceChanges();
}
</pre> 

<p>This is all it takes to update the system. Again, this 
 should be done once per-frame. The above code is from the <span class="NDLSystemFont">NiApplication::UpdateInput</span> 
 function.</p>

<!--kadov_tag{{<placeholder id="footer">}}-->

</body>

</html>
