<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>NiAtmosphere</title>
<!--(Begin Meta)================================================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Expedition" />
<meta name="Generator" content="DoxyConvert by Emergent Game Technologies - http://emergent.net" />

<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)==================================================================================-->
    
<!--(Begin Links)===============================================================================-->

<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=================================================================================-->

</head>
  
<!--(Body)======================================================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2" type="text/javascript"></script>
<script language="JavaScript1.2" type="text/javascript">WriteNavLink(2);</script>

<p class="NDLRefHeadClassTitle">NiAtmosphere</p>
<p class="NDLRefParentage">: public <span class="NDLSystemFont"><a href="../NiMain/NiNode.htm">NiNode</a></span></p>


<p class="NDLRefHeaderFile">&lt;NiAtmosphere.h&gt;</p>

<p class="NDLRefHead1" style="text-align: center; ">
<div class="FigureContainer">
  <img src="./images/class_ni_atmosphere.gif" alt="Inheritance graph for NiAtmosphere"/>
  <p class="FigureCaption">Inheritance graph for NiAtmosphere</p>
</div>
</p>

<p class="NDLRefHead1">Description</p>
<p class="NDLNormal">This class stores all the information and constants relevant to Atmospheric Scattering. </p>
<p class="NDLNormal">As well as the raw values, it also pre-calculates shader constants and stores relevant extra data objects to attach to any mesh that requires <span class="NDLSystemFont"><a href="NiSkyMaterial.htm">NiSkyMaterial</a></span> support. </p>

<a name="public_methods"></a>
<p class="NDLRefHead1">Public Methods</p>


<a name="class_ni_atmosphere_1ad0c877b85d38e1e365c1dad1b0040bef"></a>
<p class="NDLRefMemberFunction">~NiAtmosphere()</p>
<p class="NDLRefMemberDescription">Destructor. </p>
<a name="atmosphere_configuration_management"></a>
<p class="NDLRefHead1">Atmosphere Configuration Management</p>


<a name="class_ni_atmosphere_1acbde066f5827d94c266cc2b37ae98eaf"></a>
<p class="NDLRefMemberFunction">void  LoadDefaultConfiguration()</p>
<p class="NDLRefMemberDescription">Load the default configuration for the atmospheric constants. </p>

<a name="class_ni_atmosphere_1af604bbf286cd9b1c53de2c297f80ea51"></a>
<p class="NDLRefMemberFunction">void  SetPhaseConstant(float fG)</p>
<p class="NDLRefMemberDescription">Set the phase constant used in mie and rayleigh scattering. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">fG</span></td>
    <td>phase constant. </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_atmosphere_1adb10ad9905bce8d99d2c4ab69e1fea4a"></a>
<p class="NDLRefMemberFunction">void  SetSunSize(float fSize)</p>
<p class="NDLRefMemberDescription">Set the sun size multiplier to make the sun larger or smaller. </p>
<p class="NDLRefMemberDetailedDescription">changing the sun intensity can also be used to make the sun larger </p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">fSize</span></td>
    <td>sun size multiplier. </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_atmosphere_1a965cae589028b9d196fdcade379d2992"></a>
<p class="NDLRefMemberFunction">void  SetSunIntensity(float fIntensity)</p>
<p class="NDLRefMemberDescription">Set the sun intensity, higher values create a brighter sky. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">fIntensity</span></td>
    <td>the sun intensity. </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_atmosphere_1a0b7b4033c14097a027c21f9f631a7a22"></a>
<p class="NDLRefMemberFunction">void  SetRayleighConstant(float fRayleigh)</p>
<p class="NDLRefMemberDescription">Set the rayleigh constant for the scattering calculations. </p>
<p class="NDLRefMemberDetailedDescription">Rayleigh scattering is responsible for the color of the sky and sunset colors. </p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">fRayleigh</span></td>
    <td>the rayleigh scattering constant </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_atmosphere_1a874c76cb746e3ad5d957b470c8992ff3"></a>
<p class="NDLRefMemberFunction">void  SetMieConstant(float fMie)</p>
<p class="NDLRefMemberDescription">Set the mie constant for the scattering calculations. </p>
<p class="NDLRefMemberDetailedDescription">Mie scattering is responsible for the sun's glow in the sky and the dusty color of the sky due to haze. </p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">fMie</span></td>
    <td>the mie scattering constant </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_atmosphere_1af58ee87d4035c2f62128f31e80e34612"></a>
<p class="NDLRefMemberFunction">void  SetRGBWavelengths(<br/>float fR, <br/>float fG, <br/>float fB)</p>
<p class="NDLRefMemberDescription">Set the R,G, and B wavelengths for the sky calculations. </p>
<p class="NDLRefMemberDetailedDescription">values are in micrometers. </p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">fR</span></td>
    <td>Red wavelength in micrometers </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">fG</span></td>
    <td>Green wavelength in micrometers </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">fB</span></td>
    <td>Blue wavelength in micrometers </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_atmosphere_1ac0c7693b26267ab165465c4bd96841f8"></a>
<p class="NDLRefMemberFunction">void  SetRedWavelength(float fWaveLength)</p>
<p class="NDLRefMemberDescription">Set the RED wavelength for the sky calculations. </p>
<p class="NDLRefMemberDetailedDescription">value is in micrometers. </p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">fWaveLength</span></td>
    <td>Red wavelength in micrometers </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_atmosphere_1ac5d51fcbb520348461141c2523e8a580"></a>
<p class="NDLRefMemberFunction">void  SetGreenWavelength(float fWaveLength)</p>
<p class="NDLRefMemberDescription">Set the GREEN wavelength for the sky calculations. </p>
<p class="NDLRefMemberDetailedDescription">value is in micrometers. </p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">fWaveLength</span></td>
    <td>Red wavelength in micrometers </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_atmosphere_1a322e6cb0f20c50d9ba7a453663581738"></a>
<p class="NDLRefMemberFunction">void  SetBlueWavelength(float fWaveLength)</p>
<p class="NDLRefMemberDescription">Set the BLUE wavelength for the sky calculations. </p>
<p class="NDLRefMemberDetailedDescription">value is in micrometers. </p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">fWaveLength</span></td>
    <td>Red wavelength in micrometers </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_atmosphere_1a93b19aeeab26dbf5610b265785cfc8f9"></a>
<p class="NDLRefMemberFunction">void  SetHDRExposure(float fExposure)</p>
<p class="NDLRefMemberDescription">Set the HDR exposure constant to adjust the brightness of the sky. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">fExposure</span></td>
    <td>exposure value, by default it is 2.0f. </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_atmosphere_1a1660d9437192c5fb7531b8fd9a3f705a"></a>
<p class="NDLRefMemberFunction">float  GetPhaseConstant()</p>
<p class="NDLRefMemberDescription">Get the phase constant in use. </p>

<a name="class_ni_atmosphere_1a745776781173afe68494cf00707d5241"></a>
<p class="NDLRefMemberFunction">float  GetSunSize()</p>
<p class="NDLRefMemberDescription">Get the sun size multipler value. </p>

<a name="class_ni_atmosphere_1ac2096346e27ff1784698b02e421e8f58"></a>
<p class="NDLRefMemberFunction">float  GetSunIntensity()</p>
<p class="NDLRefMemberDescription">Get the sun intensity value. </p>

<a name="class_ni_atmosphere_1af76dbea6b65277c26e273fdcfcc1c3af"></a>
<p class="NDLRefMemberFunction">float  GetRayleighConstant()</p>
<p class="NDLRefMemberDescription">Get the rayleigh constant value. </p>

<a name="class_ni_atmosphere_1a94414233102230a3ab8aa7bdae37d578"></a>
<p class="NDLRefMemberFunction">float  GetMieConstant()</p>
<p class="NDLRefMemberDescription">Get the mie constant value. </p>

<a name="class_ni_atmosphere_1aa0666857e75be89c91de2f51022819bf"></a>
<p class="NDLRefMemberFunction">const <span class="NDLSystemFont"><a href="../NiMain/NiPoint3.htm">NiPoint3</a></span>&  GetRGBWavelengths()</p>
<p class="NDLRefMemberDescription">Get the RGB wavelengths used in the calculations. </p>

<a name="class_ni_atmosphere_1ac6b0751432f2603e21cf78aae7b91351"></a>
<p class="NDLRefMemberFunction">float  GetHDRExposure()</p>
<p class="NDLRefMemberDescription">Get the HDR exposure constant. </p>
<a name="constructor"></a>
<p class="NDLRefHead1">Constructor</p>


<a name="class_ni_atmosphere_1afeb1db01ee88f3cef6e05d7210870d45"></a>
<p class="NDLRefMemberFunction">NiAtmosphere()</p>
<p class="NDLRefMemberFunction"></p>
<a name="cpu_calculation_management"></a>
<p class="NDLRefHead1">CPU Calculation Management</p>


<a name="class_ni_atmosphere_1a5bfb51a8867069e80e6940e03337c443"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont"><a href="../NiMain/NiColor.htm">NiColor</a></span>  GetSkyColorInDirection(<br/>const <span class="NDLSystemFont"><a href="../NiMain/NiPoint3.htm">NiPoint3</a></span>& kDirection, <br/>const <span class="NDLSystemFont"><a href="../NiMain/NiPoint3.htm">NiPoint3</a></span>& kSunDirection, <br/><span class="NDLSystemFont">bool</span> bIncludeMieScattering)</p>
<p class="NDLRefMemberDescription">Calculate the sky color in a particular direction according to a sun direction. </p>
<p class="NDLRefMemberDetailedDescription">This is useful for calculation of fog values to match the horizon, or for offline skydome calculations. </p>
<a name="shader_constant_management"></a>
<p class="NDLRefHead1">Shader constant management</p>


<a name="class_ni_atmosphere_1aa41e7af9f5363f346d9ed504ee8fc35f"></a>
<p class="NDLRefMemberFunction">void  AttachExtraData(<span class="NDLSystemFont"><a href="../NiMain/NiAVObject.htm">NiAVObject</a></span>* pkObject)</p>
<p class="NDLRefMemberDescription">Attach the atmospheric extra data to the appropriate object. </p>
<p class="NDLRefMemberDetailedDescription">This is useful as many object can have the same extra data applied, and the atmosphere object will take care of any updates to that data that may be required. </p>

<a name="class_ni_atmosphere_1a93c18f0a88fbde652894c7febff0e19f"></a>
<p class="NDLRefMemberFunction">void  DetachExtraData(<span class="NDLSystemFont"><a href="../NiMain/NiAVObject.htm">NiAVObject</a></span>* pkObject)</p>
<p class="NDLRefMemberDescription">Detach any atmospheric extra data applied to the object. </p>
 
<!--kadov_tag{{<placeholder id="footer">}}-->

</body>

</html>
