<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>NiWater</title>
<!--(Begin Meta)================================================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Expedition" />
<meta name="Generator" content="DoxyConvert by Emergent Game Technologies - http://emergent.net" />

<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)==================================================================================-->
    
<!--(Begin Links)===============================================================================-->

<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=================================================================================-->

</head>
  
<!--(Body)======================================================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2" type="text/javascript"></script>
<script language="JavaScript1.2" type="text/javascript">WriteNavLink(2);</script>

<p class="NDLRefHeadClassTitle">NiWater</p>
<p class="NDLRefParentage">: public <span class="NDLSystemFont"><a href="../NiMain/NiNode.htm">NiNode</a></span></p>


<p class="NDLRefHeaderFile">&lt;NiWater.h&gt;</p>

<p class="NDLRefHead1" style="text-align: center; ">
<div class="FigureContainer">
  <img src="./images/class_ni_water.gif" alt="Inheritance graph for NiWater"/>
  <p class="FigureCaption">Inheritance graph for NiWater</p>
</div>
</p>

<p class="NDLRefHead1">Description</p>
<p class="NDLNormal">The water scene graph node contains the root scene graph data and meshes needed for rendering a simple water plane. </p>
<p class="NDLNormal">This class stores all the necessary properties for creating and managing water geometry in the scene graph. </p>

<a name="public_types"></a>
<p class="NDLRefHead1">Public Types</p>
<a name="class_ni_water_1ab309f19102ae3fcf5a012a41d8837fe3"></a>
<p class=NDLRefHead2>NiWater::eReflectionMode</p>


<p class="NDLRefMemberDescription">Enumerates the different reflection modes supported by the water node. </p>

<p class="NDLRefMemberDetailedDescription">The reflection modes are used for reflecting the environment off of the water's surface. </p>

<!--(Table)=========================================================-->
<div class="ReferenceTable">
<table>
  <thead>
	<tr>
        <th>Name</th>
	    <th>Description</th>
    </tr>
  </thead>
  <tbody>  
<tr>
    <td><span class="NDLSystemFont">REFLECTION_MODE_NONE</span></td>
    <td>Indicates no reflection. </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">REFLECTION_MODE_CUBE_MAP</span></td>
    <td>Indicates to use cube map for the reflection mode. Note, this is strictly static reflection. </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">REFLECTION_MODE_PLANAR_PROJECTION</span></td>
    <td>Indicates to use planar projection for reflection mode. Not yet supported. </td>
</tr>

  </tbody>
</table>
</div>


<a name="public_methods"></a>
<p class="NDLRefHead1">Public Methods</p>


<a name="class_ni_water_1a38d8bf3c17d46dca7c8e6e49d164466b"></a>
<p class="NDLRefMemberFunction">NiWater()</p>
<p class="NDLRefMemberDescription">Default constructor. </p>

<a name="class_ni_water_1aec116211791ac9e17bdf07df4ddaca74"></a>
<p class="NDLRefMemberFunction">NiWater(<span class="NDLSystemFont">NiWater</span>* pkTemplate)</p>
<p class="NDLRefMemberDescription">Copies the data from the specified water object. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<p class="NDLRefMemberDetailedDescription">This is similar to a copy constructor but necessary for interaction with the existing NiEntity system. </p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">pkTemplate</span></td>
    <td>Pointer to a water object to use as a template. </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_water_1a006c735679e6d8efcdce341226c9fd14"></a>
<p class="NDLRefMemberFunction">~NiWater()</p>
<p class="NDLRefMemberDescription">Destructor. </p>

<a name="class_ni_water_1a27c7fabd5a1ba5cb90a810f3572b5e5d"></a>
<p class="NDLRefMemberFunction">void  Initialize()</p>
<p class="NDLRefMemberDescription">Creates the underlying water geometry based on the current property values. </p>

<a name="class_ni_water_1aef355497cb07d07e4286d7a48ef8550b"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">NiUInt32</span>  GetLength() const</p>
<p class="NDLRefMemberDetailedDescription">Gets the length of the water plane in world units. </p>

<a name="class_ni_water_1aef5cebdfb2eeffee2eff05b993dbb97a"></a>
<p class="NDLRefMemberFunction">void  SetLength(<span class="NDLSystemFont">NiUInt32</span> uiLength)</p>
<p class="NDLRefMemberDescription">Sets the length of the water plane in world units. </p>

<a name="class_ni_water_1a861bb68f57eca68998b7ec6dbd643c30"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">NiUInt32</span>  GetWidth() const</p>
<p class="NDLRefMemberDescription">Gets the width of the water plane in world units. </p>

<a name="class_ni_water_1a3b5d11b050c7a71a70437e89d67020ff"></a>
<p class="NDLRefMemberFunction">void  SetWidth(<span class="NDLSystemFont">NiUInt32</span> uiWidth)</p>
<p class="NDLRefMemberDescription">Sets the width of the water plane in world units. </p>

<a name="class_ni_water_1a531d2f70e79925036d6871ac745b5574"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">NiUInt32</span>  GetMaxVerticesPerSide() const</p>
<p class="NDLRefMemberDescription">Gets the maximum vertices per side of the water plane. </p>

<a name="class_ni_water_1a593ea791005b6a2753dbfde69daf5171"></a>
<p class="NDLRefMemberFunction">void  SetMaxVerticesPerSide(<span class="NDLSystemFont">NiUInt32</span> uiMaxVerticesPerSide)</p>
<p class="NDLRefMemberDescription">Defines the number of vertices on each side of the water plane. </p>
<p class="NDLRefMemberDetailedDescription">This is useful for fog calculations on SM2 cards. On&gt;= SM3 platforms, this value can be set to 2. </p>

<a name="class_ni_water_1a0d308df375fc00d92f1b0f14b4eab02c"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">NiUInt32</span>  GetNumLengthVertices() const</p>
<p class="NDLRefMemberDescription">Gets the number of vertices along the y-axis of the water plane. </p>
<p class="NDLRefMemberDetailedDescription">
<p class="NDLRefMemberDetailedDescription">The length and width vertex count may be different depending on the ratio of width and length of the water plane. </p></p>

<a name="class_ni_water_1a16cf9434b6b91aa508fc1b1b86ca54ff"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">NiUInt32</span>  GetNumWidthVertices() const</p>
<p class="NDLRefMemberDescription">Gets the number of vertices along the x-axis of the water plane. </p>
<p class="NDLRefMemberDetailedDescription">
<p class="NDLRefMemberDetailedDescription">The length and width vertex count may be different depending on the ratio of width and length of the water plane. </p></p>

<a name="class_ni_water_1a83e237e609928c1344f001e011b1f6bd"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont"><a href="../NiMain/NiColorA.htm">NiColorA</a></span>  GetShallowColor() const</p>
<p class="NDLRefMemberDescription">Gets the current color used for rendering shallow water. </p>

<a name="class_ni_water_1a826726111e1bdcb6a28665995d0fc275"></a>
<p class="NDLRefMemberFunction">void  SetShallowColor(<span class="NDLSystemFont"><a href="../NiMain/NiColorA.htm">NiColorA</a></span> kColor)</p>
<p class="NDLRefMemberDescription">Sets the color used to render the water if depth is less than depth threshold. </p>

<a name="class_ni_water_1a6ec2c059e38ffa525fa57980f2370948"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont"><a href="../NiMain/NiColorA.htm">NiColorA</a></span>  GetDeepColor() const</p>
<p class="NDLRefMemberDescription">Gets the current color used for rendering deep water. </p>

<a name="class_ni_water_1aa4cd476a7262a2f24d06a4b87b8c0734"></a>
<p class="NDLRefMemberFunction">void  SetDeepColor(<span class="NDLSystemFont"><a href="../NiMain/NiColorA.htm">NiColorA</a></span> kColor)</p>
<p class="NDLRefMemberDescription">Sets the color used to render the water if depth is greater than depth threshold. </p>

<a name="class_ni_water_1a32acc2acc20a147083a5c1db7c022d66"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont"><a href="../NiMain/NiFixedString.htm">NiFixedString</a></span>  GetEnvMap() const</p>
<p class="NDLRefMemberDescription">Gets the name of the cube map used for rendering static reflections on the water. </p>

<a name="class_ni_water_1a19866f183265954dcb2a370a8922318d"></a>
<p class="NDLRefMemberFunction">void  SetEnvMap(<span class="NDLSystemFont"><a href="../NiMain/NiFixedString.htm">NiFixedString</a></span> kEnvMap)</p>
<p class="NDLRefMemberDescription">Sets the name of the cube map used for rendering static reflections on the water. </p>

<a name="class_ni_water_1a42db32b505be2c198081c653c8fbe77d"></a>
<p class="NDLRefMemberFunction">float  GetDepthThreshold() const</p>
<p class="NDLRefMemberDescription">Gets the current depth threshold. </p>

<a name="class_ni_water_1a5332ba89508a39ccacf85866b276d1bc"></a>
<p class="NDLRefMemberFunction">void  SetDepthThreshold(float fDepth)</p>
<p class="NDLRefMemberDescription">Sets the current depth threshold used for determining how to blend the shallow and deep water colors. </p>

<a name="class_ni_water_1aadf618d81b665ba98ab4389d6e9169cc"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont"><a href="../NiMain/NiFixedString.htm">NiFixedString</a></span>  GetNormalMapDir() const</p>
<p class="NDLRefMemberDescription">Gets the directory used for fetching a flip-book of normal map textures. </p>

<a name="class_ni_water_1aae058727c3fb8ba24df3bb790f199d37"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">bool</span>  SetNormalMapDir(<span class="NDLSystemFont"><a href="../NiMain/NiFixedString.htm">NiFixedString</a></span> kDir)</p>
<p class="NDLRefMemberDescription">Sets the directory used to search for normal maps. </p>

<a name="class_ni_water_1af6404eec03370b7506404b9fdc3cefb3"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont"><a href="../NiMain/NiFixedString.htm">NiFixedString</a></span>  GetNormalFile() const</p>
<p class="NDLRefMemberDescription">Gets the mask used to find normal map textures in the specified normal map directory. </p>

<a name="class_ni_water_1a04fc4108cf221af628bad487422f5826"></a>
<p class="NDLRefMemberFunction">void  SetNormalFile(<span class="NDLSystemFont"><a href="../NiMain/NiFixedString.htm">NiFixedString</a></span> kFile)</p>
<p class="NDLRefMemberDescription">Sets the mask used to find normal map textures in the specified normal map directory. </p>

<a name="class_ni_water_1a5f4ccfba21a42c21ac339dbda492d28f"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">NiUInt32</span>  GetTextureSizeRatio() const</p>
<p class="NDLRefMemberDescription">Gets the size of the texture map used as a blend map for determining height of the water plane above the terrain. </p>

<a name="class_ni_water_1a23ee1945af1183b05f15a5d0e301b9c3"></a>
<p class="NDLRefMemberFunction">void  SetTextureSizeRatio(<span class="NDLSystemFont">NiUInt32</span> uiSize)</p>
<p class="NDLRefMemberDescription">Sets the size of the texture map used as a blend map for determining height of the water plane above the terrain. </p>

<a name="class_ni_water_1a6374f82b03dddd7b8fc87829ebfe2e4c"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont"><a href="../NiMain/NiPoint2.htm">NiPoint2</a></span>  GetNormalVelocity() const</p>
<p class="NDLRefMemberDescription">Gets the velocity at which the normal map scrolls in the xy plane. </p>

<a name="class_ni_water_1a7ab25fa9b3caa2f8ffec40c215959b14"></a>
<p class="NDLRefMemberFunction">void  SetNormalVelocity(<span class="NDLSystemFont"><a href="../NiMain/NiPoint2.htm">NiPoint2</a></span> kVelocity)</p>
<p class="NDLRefMemberDescription">Sets the velocity at which the normal map scrolls in the xy plane. </p>

<a name="class_ni_water_1a6068dae2488b22dd4f5cffaa7ad6509d"></a>
<p class="NDLRefMemberFunction">float  GetReflectionFactor() const</p>
<p class="NDLRefMemberDescription">Gets the strength of the reflection map. </p>

<a name="class_ni_water_1a77e51c34affcc29642657be43b5acccb"></a>
<p class="NDLRefMemberFunction">void  SetReflectionFactor(float fReflection)</p>
<p class="NDLRefMemberDescription">Sets the strength of the reflection map which is used to determine how much of the reflection map is visible on the water's surface. </p>

<a name="class_ni_water_1a812d55c5f0a34509e7b663303e8f830d"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont"><a href="NiTerrain.htm">NiTerrain</a></span>*  GetAssociatedTerrain() const</p>
<p class="NDLRefMemberDescription">Gets the terrain object associated with the water plane. </p>
<p class="NDLRefMemberDetailedDescription">The associated terrain object is used to build a height map encoding how far the water is from the terrain. </p>

<a name="class_ni_water_1ac605c00b9ea67204af89bc7d1ca90d9b"></a>
<p class="NDLRefMemberFunction">void  SetAssociatedTerrain(<span class="NDLSystemFont"><a href="NiTerrain.htm">NiTerrain</a></span>* pkTerrain)</p>
<p class="NDLRefMemberDescription">Sets the associated terrain object. </p>

<a name="class_ni_water_1ac87deeedaf01ebd6aabc2704845c28cb"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">NiUInt8</span>  GetReflectionMode() const</p>
<p class="NDLRefMemberDescription">Gets the current reflection mode. </p>

<a name="class_ni_water_1a9e235548b92dd2861df8a31478bd21cf"></a>
<p class="NDLRefMemberFunction">void  SetReflectionMode(<span class="NDLSystemFont">NiUInt8</span> uiRefMode)</p>
<p class="NDLRefMemberDescription">Sets the current reflection mode. </p>

<a name="class_ni_water_1a36220e7cbda76d1edaa6f3cbe27a882c"></a>
<p class="NDLRefMemberFunction">float  GetSpecularity() const</p>
<p class="NDLRefMemberDescription">Gets the specular strength. </p>

<a name="class_ni_water_1a4157478b198dc84377f32eaa7d8f86ed"></a>
<p class="NDLRefMemberFunction">void  SetSpecularity(float fSpecularity)</p>
<p class="NDLRefMemberDescription">Sets the specular strength on the water. </p>
<p class="NDLRefMemberDetailedDescription">A higher value will create smaller more focused highlights on the water's surface. </p>

<a name="class_ni_water_1ad61e23e29acb9901b82e70b9fb0e96a9"></a>
<p class="NDLRefMemberFunction">float  GetNormalAnimationSpeed() const</p>
<p class="NDLRefMemberDescription">Gets the animation speed of the flip-book style animated normal maps. </p>

<a name="class_ni_water_1ae7dd04e17d7c258cb09b84efa5203417"></a>
<p class="NDLRefMemberFunction">void  SetNormalAnimationSpeed(float fSpeed)</p>
<p class="NDLRefMemberDescription">Sets the animation speed of the flip-book style animated normal maps. </p>
<p class="NDLRefMemberDetailedDescription">The speed indicates how many frames per second in which the normal maps should be played back. </p>
 
<!--kadov_tag{{<placeholder id="footer">}}-->

</body>

</html>
