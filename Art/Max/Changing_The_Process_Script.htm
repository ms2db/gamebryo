<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>Changing The Process Script in 3ds Max</title>
<!--(Begin Meta)===================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Pre-Expedition-RH" />
<meta name="Generator" content="Palimpsest by Emergent Game Technologies - http://emergent.net" />
<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)====================================================-->
    
<!--(Begin Links)===================================================-->
    
<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=====================================================-->

</head>

<!--(Begin Body)===================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2" type=
"text/javascript">
</script><script language="JavaScript1.2" type="text/javascript">
WriteNavLink(2);
</script>

<h1>Changing The Process Script in 3ds Max</h1>

<p>You can use process scripts (in conjunction with export scripts) to
customize and automate how the Gamebryo 3ds Max Plug-in exports your Max art
assets. You use process scripts to post-process exported art assets. Examples
of post-processing steps that you might encapsulate in a script include
stripifying geometry, adding geometry for normals, or removing redundant nodes
from the scene.</p>

<p class="NDLHeadingProcedure">To change the process script</p>

<ol>
    <li>Make sure that the Gamebryo Maxscript Toolbar is loaded and available
    in 3ds Max.

        <p class="indent1">See <a href=
        "Gamebryo_MaxScript_Toolbar_Introduction.htm">Gamebryo MaxScript
        Toolbar Introduction</a>.</p>
    </li>

    <li>In 3ds Max, create a teapot (or any other object). You should now have
    something similar to the image below.

        <div class="FigureContainer">
            <img src="images/TutorialViewing01.jpg" width="600" height="450"
            alt="TutorialViewing01 (72K)"> 
            <!-- <p class="FigureCaption">{Figure caption}</p> -->
        </div>
    </li>

    <li>Click the <span class="NDLGUILabel">Export to Gamebryo</span> button
    (see image below).

        <div class="FigureContainer">
            <img src="images/Exporting2.jpg" width="505" height="484" alt=
            "Exporting2 (91K)"> 
            <!-- <p class="FigureCaption">{Figure caption}</p> -->
        </div>
    </li>

    <li>In the Export File dialog box, type the name of the file that you want
    to save and then click <span class="NDLGUILabel">Save</span>.

        <div class="FigureContainer">
            <img src="images/Exporting1.jpg" width="563" height="412" alt=
            "Exporting1 (26K)"> 
            <!-- <p class="FigureCaption">{Figure caption}</p> -->
        </div>
    </li>

    <li>In the Export Scene to NIF File dialog box, click the <span class=
    "NDLGUILabel">Edit</span> button beside the <span class=
    "NDLGUILabel">Process Script</span> drop-down.

        <div class="FigureContainer">
            <img src="images/ExportDialog.jpg" width="534" height="464" alt=
            "ExportDialog (131K)"> 
            <!-- <p class="FigureCaption">{Figure caption}</p> -->
        </div>
    </li>

    <li>In the Script Editor dialog, click the <span class=
    "NDLGUILabel">New</span> button next to the <span class=
    "NDLGUILabel">Current Script (Template File Name)</span> drop-down.

        <div class="FigureContainer">
            <img src="images/ScriptEditor.jpg" width="624" height="506" alt=
            "ScriptEditor (107K)"> 
            <!-- <p class="FigureCaption">{Figure caption}</p> -->
        </div>
    </li>

    <li>In the New Script dialog, type the name of the script and then click
    <span class="NDLGUILabel">OK</span>. (In this example, we chose to call the
    export script "Tutorial Script".)

        <div class="FigureContainer">
            <img src="images/RenameScript.jpg" width="285" height="140" alt=
            "RenameScript (7K)"> 
            <!-- <p class="FigureCaption">{Figure caption}</p> -->
        </div>

        <p class="indent1">In the Script Editor dialog, the name of the script
        that you just specified in the New Script dialog ("Tutorial Script")
        appears in the <span class="NDLGUILabel">Current Script (Template File
        Name)</span> drop-down.</p>
    </li>

    <li>Click the <span class="NDLGUILabel">Save</span> button. In the Save
    Script dialog, verify the script name to save and then click
        <span class="NDLGUILabel">Save</span>.

        <div class="FigureContainer">
            <img src="images/SaveScript.jpg" width="563" height="412" alt=
            "SaveScript (60K)"> 
            <!-- <p class="FigureCaption">{Figure caption}</p> -->
        </div>

        <p class="indent1">In the Script Editor dialog, the name of your script
        and its file name now appear in the <span class="NDLGUILabel">Current
        Script (Template File Name)</span> drop-down.</p>

        <div class="FigureContainer">
            <img src="images/EmptyTutorialScript.jpg" width="624" height="506"
            alt="EmptyTutorialScript (91K)"> 
            <!-- <p class="FigureCaption">{Figure caption}</p> -->
        </div>
    </li>

    <li>Even though the script does not have any tool plug-ins specified in the
    <span class="NDLGUILabel">Plugin List for Current Script</span> listbox, go
    ahead and click <span class="NDLGUILabel">OK</span>.</li>

    <li>In the Export Scene to NIF File dialog, note that "Tutorial Script" is
    now listed in the <span class="NDLGUILabel">Process Script</span>
    drop-down. Click <span class="NDLGUILabel">OK</span> to export.

        <div class="FigureContainer">
            <img src="images/FinalExportDialog.jpg" width="535" height="465"
            alt="FinalExportDialog (132K)"> 
            <!-- <p class="FigureCaption">{Figure caption}</p> -->
        </div>
    </li>

    <li>Navigate to the directory where you exported your NIF file and
    double-click it to view it in the Gamebryo Asset Viewer. (When you install
    Gamebryo, .nif files are automatically associated with the Asset
    Viewer.)</li>

    <li>In the Asset Viewer, click the scene graph tree icons until you find an
    NiMesh object named "Teapot".

        <div class="FigureContainer">
            <img src="images/TeapotInAssetViewer.jpg" width="777" height="550"
            alt="TeapotInAssetViewer (119K)"> 
            <!-- <p class="FigureCaption">{Figure caption}</p> -->
        </div>
    </li>

    <li>In the Asset Viewer's Tree View, double-click the Teapot NiMesh object
    to inspect its properties. Scroll down to the Mesh rollout of the dialog
    and note that the stream ref window lists four unique streams. The
    positions, normals, and UVs of each vertex are stored in different arrays.

        <p class="indent1">Having four unique streams is not optimal, so we can
        now tweak our process script to address this issue.</p>
    </li>

    <li>If it is not still running, launch 3ds Max again and open the art asset
    that you previously exported. As before, click the <span class=
    "NDLGUILabel">Export to Gamebryo</span> button, and, in the Export File
    dialog, save the file.</li>

    <li>In the Script Editor dialog, the script that you last used ("Tutorial
    Script") should be listed in the <span class="NDLGUILabel">Current
    Script</span> drop-down. If it is not, go ahead and select it in the
    drop-down.</li>

    <li>In the Script Editor dialog, double-click "Mesh Finalize" in the
    <span class="NDLGUILabel">Known Plugins</span> listbox to add it to the
    <span class="NDLGUILabel">Plugin List for Current Script</span> listbox.

        <div class="FigureContainer">
            <img src="images/TutorialScriptWithFinalize.jpg" width="624"
            height="506" alt="TutorialScriptWithFinalize (99K)"> 
            <!-- <p class="FigureCaption">{Figure caption}</p> -->
        </div>
    </li>

    <li>Click <span class="NDLGUILabel">Save</span> and, when prompted, save
    the script again as <span class="NDLSystemFont">Tutorial
    Script.script</span>.</li>

    <li>In the Script Editor dialog, click <span class="NDLGUILabel">OK</span>
    and then click <span class="NDLGUILabel">OK</span> in the Export Scene to
    NIF dialog.

        <p class="indent1">The scene will export as it did previously, however,
        this time the scene's geometry will be optimized through a process
        called interleaving.</p>
    </li>

    <li>Open the file in Asset Viewer. Navigate down the Scene Graph Tree until
    you find the Teapot NiMesh object.</li>

    <li>Open the properties dialog and inspect the Mesh rollout. You will see
    that there are now only two data streams. The first stream contains INDEX
    data, which is not stored per-vertex, but all of the per-vertex data
    (POSITION, NORMAL, and TEXCOORD) have been combined in the second stream.

        <div class="FigureContainer">
            <img src="images/MeshPropertiesAfter.jpg" width="450" height="640"
            alt="MeshPropertiesAfter (118K)"> 
            <!-- <p class="FigureCaption">{Figure caption}</p> -->
        </div>
    </li>
</ol>

<table class="NDLNoteContainer" width="100%">
    <tr align="left">
        <td class="NDLNoteContainerTD">
            <p class="NDLHeadingNoteContainer">Note</p>

            <div class="NDLNote">
                You can add as many process plug-ins to the process script as
                you want. Some will have different effects if they are arranged
                in a different order. The plug-ins are executed in the same
                order as they appear in the <span class="NDLGUILabel">Plugin
                List For Current Script</span> list box. To change the order in
                which tool plug-ins are invoked, use the Move Up or Move Down
                buttons in the Script Editor.
            </div>
        </td>
    </tr>
</table>

<p class="NDLHeadingRelatedTopic">Related topics</p>

<ul>
    <li><a href="Changing_The_Export_Script.htm">Changing the Export Script in
    3ds Max</a></li>

    <li><a href="Gamebryo_MaxScript_Toolbar_Introduction.htm">Gamebryo
    MaxScript Toolbar Introduction</a></li>

    <li><a href=
    "../../Tools/Tool_Plug_in_Testbed/The_Script_Editor_Dialog.htm">Tool
    Plug-in Testbed Script Editor Interface Options</a></li>

    <li><a href=
    "../../Reference/Tool_Plug_ins/Available_Tool_Plug_ins.htm">Available Tool
    Plug-ins</a></li>

    <li><a href="Scripting_the_Art_Pipeline_in_3ds_Max.htm">Scripting the Art
    Pipeline in 3ds Max</a></li>

    <li><a href="../../Reference/Tool_Plug_ins/NIF_Exporter.htm">NIF Exporter
    Tool plug-in</a></li>
</ul>

<!--kadov_tag{{<placeholder id="footer">}}-->

</body>

</html>
