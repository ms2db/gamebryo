<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>Product Tour: Editing Levels</title>
<!--(Begin Meta)================================================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Expedition" />
<meta name="Generator" content="Palimpsest by Emergent Game Technologies - http://emergent.net" />
<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)==================================================================================-->

<!--(Begin Links)===============================================================================-->

<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=================================================================================-->

</head>

<!--(Begin Body)================================================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2" type="text/javascript">
</script><script language="JavaScript1.2" type="text/javascript">
        WriteNavLink(2);
</script>

<h1>Product Tour: Editing Levels</h1>

<p>Okay, now that you've had a chance to get familiar with MangledMetal, let's start looking at the
game in more depth. Specifically, we'll use World Builder, our level-editing tool for defining the
initial conditions of the game.</p>

<h2>Product Tour at-a-Glance</h2>

<ol>
    <li><a href="ProductTour.htm">Overview</a></li>

    <li><a href="ProductTour_DataDrivenGames.htm">Data Driven Games</a></li>

    <li><b>Editing Levels&nbsp;&nbsp;&lt;-- You are here</b></li>

    <li><a href="ProductTour_EditingGameObjects.htm">Editing Game Objects</a></li>

    <li><a href="ProductTour_EditingBehaviors.htm">Editing Behaviors</a></li>

    <li><a href="ProductTour_Editing3DContent.htm">Editing 3D Content</a></li>
</ol>

<h2>Getting to Know World Builder</h2>

<p>As noted previously, World Builder is a Toolbench plug-in. So, to use it, we need to launch
Toolbench, our development environment for working with game content. From the Windows Start menu,
select <span class="NDLGUILabel">Emergent &gt; Gamebryo LightSpeed &gt; Tools &gt;
Toolbench</span>.</p>

<p>Within Toolbench, let's go ahead and open the MangledMetal game solution file (<span class=
"NDLSystemFont">.gsl</span>). This file contains all of the game content that was needed to create
the MangledMetal demo. By default, this file installs in the following location:</p>

<p><span class=
"NDLSystemFont">%EMERGENT_PATH%\Samples\GameDemos\MangledMetal\Data\MangledMetal.gsl</span></p>

<p>After you open the solution file, you'll notice a <a href=
"../../Tools/Toolbench/tb_ref_game_soln_explorer.htm">Game Solution View</a> on the left-hand panel
of Toolbench. This view helps to organize the high-level projects that make up your game data. To
see the level that you were just moving around in, double-click <span class=
"NDLSystemFont">Level03.block</span>. This opens the level in World Builder.</p>

<div class="FigureContainer">
    <img src="images/Level03ZoomedOut.jpg" alt="Level03ZoomedOut (64K)">

    <p class="FigureCaption">MangledMetal Level 03 Wide View</p>
</div>

<p>Here, you can see the level that you just walked through. All of the enemies, triggers, gates,
and other gameplay objects were placed using World Builder. For now, we're going to focus on how we
might change some of this level and see the difference that it makes in the game.</p>

<p>To navigate in World Builder, you can use the mouse (left-mouse click to look) and keyboard
(WASD to move). For more information about navigation within World Builder, see <a href=
"../../Tools/WorldBuilder/wb_world_camera_navigation.htm">Navigating Around the World</a>.</p>

<p>If you don't still have MangledMetal running, launch it again. (See <a href=
"ProductTour_DataDrivenGames.htm">Data Driven Games</a> if you've forgotten how to run the demo
game.) If you have a multiple monitor configuration, this tutorial is easier to see if you move
MangledMetal and Toolbench to separate monitors. In this tour, we'll be running the game on
Windows, directly next to the Toolbench application. You could just as easily be running this game
on a PS3 or Xbox 360 and get the same rapid iteration benefits.</p>

<h2>Editing Existing Entities</h2>

<p>Let's start making some changes. In World Builder, click the <a href=
"../../Tools/WorldBuilder/wb_ref_entity_view.htm">Entity view</a>, which should be docked to the
left-hand side of the tool. Expand the "Scene" node and its child node, "Environment". Among the
entities and folders listed, you will see "AmbientLight" and "DirectionalLight". Go ahead and
double-click the "DirectionalLight". Your view within World Builder should jump to the location of
that entity. Zoom out a little using the mouse wheel or keyboard controls.</p>

<div class="FigureContainer">
    <img src="images/OriginalLight.jpg" alt="OriginalLight (177K)">

    <p class="FigureCaption">The default view with the DirectionalLight selected.</p>
</div>

<p>Now that you've selected and zoomed to the "DirectionalLight", click the <a href=
"../../Tools/WorldBuilder/wb_ref_toolbars.htm#Entity_Transformations">"Rotate" tool</a> (<img src=
"../../Tools/WorldBuilder/images/RotationLarge.png">) on the toolbar. With the tool selected, a
rotation gizmo appears around the light. This allows you to manipulate the light's rotation as you
drag the mouse around. As you manipulate the light, note how the shadows adjust to your changes in
the viewport. Note, too, that when you save your work, the changes are published to the running
game instance.</p>

<p>This ability to see changes immediately reflected in a running game is the essence of rapid
iteration. In Gamebryo LightSpeed, we do not have an editor with all of the editing functionality
built into the game. Instead, we separate the editor from the game so that if there is a compile
error with the game, your designers can continue editing their levels without waiting on the
development team. At the same time, we try to achieve the same benefits by being able to change the
game and see exactly how its going to look on target.</p>

<div class="FigureContainer">
    <img src="images/LightRotated.jpg" alt="LightRotated (179K)">

    <p class="FigureCaption">The DirectionalLight entity rotated in World Builder.</p>
</div>

<p>Let's return to the "DirectionalLight" and adjust its color. In the Entity Editor panel, which
is docked on the right side of the tool, select the "DiffuseColor" property. When you click the
color swatch beside the property name, a color picker dialog opens. You can make your color
adjustments here. When you want to see them in the viewport, click the "Apply" button to push the
new property value or press "OK" to accept the changes. Below, we've chosen an orange hue, which
makes the level feel as if it's dusk.</p>

<div class="FigureContainer">
    <img src="images/LightDiffuseChanged.jpg" alt="LightDiffuseChanged (177K)">

    <p class="FigureCaption">The DirectionalLight entity with its DiffuseColor adjusted in World
    Builder.</p>
</div>

<p>As before, your changes will be reflected in the running game immediately after you save them in
World Builder. Here's a screenshot from the starting position:</p>

<div class="FigureContainer">
    <img src="images/LightDiffuseChangedInGame.jpg" alt="LightDiffuseChangedInGame (118K)">

    <p class="FigureCaption">The DirectionalLight entity with its DiffuseColor adjusted in
    MangledMetal.</p>
</div>

<p>For now, undo all of the changes that you've made up to this point. Either press CTRL+Z or clear
the Undo stack by selecting all items from the "Undo" toolbar button (<img src=
"../../Tools/Toolbench/images/UndoLarge.png">).</p>

<h2>Creating New Entity Instances</h2>

<p>Now let's take a look at some of the creation tools available to us. There is a patch of clear
ground near the start of the level. If you need to find your way back to the starting location in
Toolbench, go to the Entity View and filter on the "Player0" entity. Expand the "Scene" node and its child node, "Characters".
Once you find it, double-click "Player0". This repositions the camera to the starting location. Let's walk to that patch of clear
ground in the game and navigate to the same area in the tool.</p>

<div class="FigureContainer">
    <img src="images/StartingAreaOriginalInGame.jpg" alt="StartingAreaOriginalInGame (549K)">

    <p class="FigureCaption">The starting area discussed above in-game.</p>
</div>

<p>One method for creating new entities is to clone them. In the Entity View, choose the "Scene"
folder to make sure that our new entities are created in the proper folder. Select the three trees
off to the left of the big gate by pressing the CTRL key and clicking on them. They should now
highlight. Select the <a href=
"../../Tools/WorldBuilder/wb_ref_toolbars.htm#Entity_Transformations">"Translation" tool</a>
(<img src="../../Tools/WorldBuilder/images/TranslationLarge.png">) from the toolbar. You'll also
want to set the tool's snap mode. Select "Snap to Surface" (<img src=
"../../Tools/WorldBuilder/images/PlacementSnapToSurfaceLarge.png">) from the toolbar. Now, while
pressing the SHIFT key, left-click and drag on any of the axes of the translation gizmo. This
creates clones of the selected objects. You've now added new trees to your level.</p>

<div class="FigureContainer">
    <img src="images/StartingAreaClonedTrees.jpg" alt="StartingAreaClonedTrees (202K)">

    <p class="FigureCaption">More trees added to the level in World Builder.</p>
</div>

<p>You can also place items individually. In the <a href=
"../../Tools/WorldBuilder/wb_ref_palette_view.htm">Palette View</a>, you can see all of the
various types of entities that are available for creation. Double-click the MangledMetal project to
see the models and presets available in that EMT Project. Switch the Palette View to display
thumbnails by pressing the View button in the top-right corner of the Palette View. You can
change the size of the thumbnails in the list by dragging the slider at the bottom of
the Palette view. Type "prop_st" in the "Filter" edit box to narrow the list of models
displayed to a smaller set. Find the model named "Prop_statue_vulture" and select it.
Create an instance of this in the world by dragging and dropping it onto the desired
location in the viewport.</p>

<div class="FigureContainer">
    <img src="images/InsertVultureStatue.jpg" alt="InsertVultureStatue (252K)">

    <p class="FigureCaption">Vulture statue added to the level in World Builder.</p>
</div>

<p>When you click the Save button in the toolbar, you will see the results in the running game.</p>

<p>The previous changes were fairly small. Now, let's take a look at how to make changes on a
larger scale. Let's suppose that you want to change all of the trees in the world. Let's switch to
the alphabetical mode of the Entity View and add a filter on the word "tree". The list is now
filtered to only entities that have "tree" in their name. Select one item and press CTRL+A to
select all entities in the view. This also selects all 560+ trees in the world. In the entity
editor, we can change any properties that exist on these entities. If they are the same on all
entities, they look normal. If they are different, the values are highlighted. You can change the
graphical NIF Asset property of these trees to "<span class=
"NDLSystemFont">MangledMetal\GamebryoData\Generic\Props\Tree_Dead01.nif</span>". In the "Select a
file asset" dialog, switch to the "Large Icons" view to see thumbnails of the NIF files in the
directory. Notice that all of the trees have now changed in World Builder.</p>

<div class="FigureContainer">
    <img src="images/OpenDeadTree.jpg" alt="OpenDeadTree (77K)">

    <p class="FigureCaption">Choose the Tree_Dead01 asset.</p>
</div>

<p>Click the "Save" button and see it in the game. If you want to undo your changes, you can press
CTRL+Z.</p>

<div class="FigureContainer">
    <img src="images/DeadTreeConversionInGame.jpg" alt="DeadTreeConversionInGame (799K)">

    <p class="FigureCaption">MangledMetal converted to using the dead tree in-game.</p>
</div>

<p>There are many more ways to place and create entities in World Builder. For more information,
see <a href="../../Tools/WorldBuilder/wb_ref_randomizer_tool.htm">Randomizer Tool</a>, <a href=
"../../Tools/WorldBuilder/wb_entity_transformation_modes.htm">Manipulating Entity
Transformations</a>, <a href="../../Tools/WorldBuilder/wb_entity_snapping.htm">Entity Snapping</a>
and <a href="../../Tools/WorldBuilder/wb_best_practices_placement.htm">Placing entities in the
world</a>.</p>

<h2>Moving on...</h2>

<p>We've covered some of the level editing tools that you have available to you. Next, we'll see
how we can affect gameplay by editing game objects. See <a href=
"ProductTour_EditingGameObjects.htm">Editing Game Objects</a>.</p>

<p class="NDLHeadingRelatedTopic">Related topics</p>

<ul>
    <li><a href="../../Tools/Toolbench/tb_intro.htm">Toolbench</a></li>

    <li><a href="../../Tools/WorldBuilder/wb_intro.htm">World Builder</a></li>

    <li><a href="../../Tools/EntityModelingTool/emt_intro.htm">Entity Modeling Tool</a></li>
</ul>

<!--kadov_tag{{<placeholder id="footer">}}-->

</body>

</html>
