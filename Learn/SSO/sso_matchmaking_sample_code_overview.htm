<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>Matchmaking Sample Code Overview</title>
<!--(Begin Meta)===================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="FSO" />
<meta name="Generator" content="Palimpsest by Emergent Game Technologies - http://emergent.net" />
<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)====================================================-->
    
<!--(Begin Links)===================================================-->
    
<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=====================================================-->

</head>

<!--(Begin Body)===================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2"
type="text/javascript">
</script><script language="JavaScript1.2" type="text/javascript">
WriteNavLink(2);
</script>

<h1>Matchmaking Sample Code Overview</h1>

<p>By default, source for the Matchmaking sample installs in the
following location:</p>

<p><span class=
"NDLSystemFont"><em>%EMERGENT_PATH%</em>\Samples\OnlineTechDemos\MatchmakingSample</span></p>

<table>
    <thead>
        <tr>
            <th>Module</th>

            <th>Description</th>
        </tr>
    </thead>

    <tbody>
        <tr>
            <td><span class="NDLSystemFont">main.cpp</span></td>

            <td>
                <ul>
                    <li>Creates the ServiceManager.</li>

                    <li>Reads the <span class="NDLSystemFont">Config.ini</span> file.</li>

                    <li>Starts all the required system
                    services.</li>

                    <li>Determines if it is a host or a peer
                    instance and starts either SampleHostService
                    or SamplePeerService.</li>

                    <li>Calls Run on the ServiceManager to start
                    the application.</li>
                </ul>
            </td>
        </tr>

        <tr>
            <td><span class=
            "NDLSystemFont">SampleHostService.cpp</span></td>

            <td>
                <ul>
                    <li>Creates a new game using the
                    MatchmakingService.</li>

                    <li>Add and deletes players from the game as
                    connections are accepted and closed.</li>

                    <li>Controls game state including when there
                    are enough players to leave the lobby and
                    start the actual game.</li>

                    <li>Handles game messages from the peers and
                    determines the outcome of those events.</li>

                    <li>Controls the host player's actions and
                    determines their outcome.</li>

                    <li>Notifies peers regarding the result of
                    each player's actions.</li>
                </ul>
            </td>
        </tr>

        <tr>
            <td><span class=
            "NDLSystemFont">SamplePeerService.cpp</span></td>

            <td>
                <ul>
                    <li>Attempts to join the game using the
                    MatchmakingService.</li>

                    <li>Maintains game state.</li>

                    <li>Builds the game map.</li>

                    <li>Controls one of the peer player's
                    actions.</li>
                </ul>
            </td>
        </tr>

        <tr>
            <td><span class=
            "NDLSystemFont">PlatformHelpers_<em>&lt;platform&gt;</em>.cpp</span></td>

            <td>
                <ul>
                    <li>A wrapper for the platform-specific
                    matchmaking code.</li>

                    <li>Provides an interface to create a new
                    game on the matchmaking host.</li>

                    <li>Provides an interface to join an existing
                    game on the matchmaking host.</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td><span class="NDLSystemFont">EGTGamePackDemos.spa</span> (Xbox 360 Only)</td>

            <td>
                <ul>
                    <li>The game configuration file.</li>

                    <li>Contains the title ID.</li>

                    <li>Contains matchmaking queries.</li>
						
					</ul>
					
						<div class="NDLTDNote"><span class="NDLTableNote">Note:</span> The <span class="NDLSystemFont">.spa</span> file contains a title ID that is used by Emergent Game Technologies demos and samples. The file should not be re-used in other applications. Make sure that you use a title ID that is assigned to you by Microsoft when developing a title or writing a sample application.</div>
                
            </td>
        </tr>
    </tbody>
</table>

<p class="NDLHeadingRelatedTopic">Related topics</p>

<ul>
    <li><a href="sso_matchmaking_sample_overview.htm">Matchmaking
    Sample Overview</a></li>

    <li><a href=
    "sso_matchmaking_sample_tech_highlights.htm">Matchmaking
    Sample Functional Overview</a></li>
</ul>

<!--kadov_tag{{<placeholder id="footer">}}-->

</body>

</html>
