<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<title>ConvertLLIDRefs Tool</title>
<!--(Begin Meta)================================================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Fresnel" />
<meta name="Generator" content="Palimpsest by Emergent Game Technologies - http://emergent.net" />
<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)==================================================================================-->
    
<!--(Begin Links)===============================================================================-->
    
<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=================================================================================-->

</head>

<!--(Begin Body)================================================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2" type="text/javascript"></script>
<script language="JavaScript1.2" type="text/javascript">WriteNavLink(2);</script>

<h1>ConvertLLIDRefs Tool</h1>

<p>The AssetController logical Asset id generation algorithm changed in LightSpeed 3.1. The
algorithm it used previously was based on using case sensitive relative path hash ID. Now
AssetController generates those ID's in a case insensitive manner. As a result, existing pre
LightSpeed 3.1 models, presets, and block files that reference assets will break due to the logical
asset ID number change.</p>

<p>To deal with the change to the algorithm used for logical asset ID generation, a conversion tool
has been added to the Toolbench solution. This tool will convert logical asset ID references that
were generated previously to references using the case insensitive policy. See the <a href=
"../../RelNotes/All/Release_Notes__Foundation.htm">Foundation release notes</a> regarding this
change in policy.</p>

<h2>Using the tool</h2>

<p>To use the tool, take the following steps:</p>

<ul>
    <li>Using windows explorer, navigate to the asset-web-metadata directory. This directory will
    be a direct child of your asset-web root.</li>

    <li>Delete the asset-web-metadata folder or all files and folder in that directory.</li>

    <li>Load Toolbench and open a Game Solution that belongs to that asset web. This will invoke
    AssetController to recreate all on-disk / cached metadata in the asset-web-metadata
    directory.</li>

    <li>In the file explorer, open the asset-web-metadata folder and watch for the creation of the
    various .nt files. When there are more than 2 .nt files listed in the directory, the process
    has completed and you can move on to the next step.</li>

    <li>Shutdown Toolbench and if AssetController is still running, shut it down too.</li>

    <li>Ensure all .model, .preset, and .block files in the asset-web are made writable.</li>

    <li>Navigate to the location of ConvertLLIDRefs.exe file (lives next to Toolbench.exe)</li>

    <li>Execute ConvertLLIDRefs in a command prompt with the only parameter being a fully specified
    path to the asset web root.</li>
</ul>

<p>The tool make take a few moments to complete depending on the size of your asset web. Upon
completion, the tool will have taken the following steps:</p>

<ul>
    <li>Determine any llid references that need repair in any block, preset, or model file</li>

    <li>Fix references that are repairable by switching from case sensitive generated llid's to
    ones generated by case insensitive policy.</li>

    <li>Fix references to assets that have moved if possible.</li>

    <li>Report information about any asset references that could not be fixed.</li>

    <li>Create a sibling directory next to the asset-web root directory having the same name as the
    root with the suffix "_PreConvertLLID_Backup" appended. In this back-up directory, you'll find
    pristine versions of a files that were modified in folders relative to their original location.
    This will allow you to simply copy the folders contents to original asset-web root in the case
    where reverting is necessary.</li>
</ul>

<p>As a final step, you should also re-export your xblock and flat files from Toolbench.</p>

<!--kadov_tag{{<placeholder id="footer">}}-->

</body>

</html>
